<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arrays in JS</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Fundamentals of Javascript</h1>
        <p>You can either <b>hover on each topic</b> to view the code or can <b>access the console</b> to see the outputs !!</p><br>
        <h2>Array in JS</h2>

        <div class="task-1">
            <h4>Introduction to Array</h4>
            <pre>
            <code>
                // Create an array 
                const fruits = ["apple", "banana", "orange"];
                console.log("Created array fruits: " + fruits);
            
                //Create array with multiple values
                const random = [654, "ram", true, 5.6, [4,'second layer', false]];
                console.log("Created multi-dimensional array random: " + random);
            
                //access values of multi-dimensional array
                console.log("Assessing value form multi-dimensional array: " + random[4][1]); 
            </code>
            </pre>
        </div><br>

        <h2>Basic Array Methods</h2>
        <div class="task-2">            
            <h4>indexOf()</h4>
            <pre>
            <code>
                //indexOf to find the index of the array
                console.log("Using indexOf() function: " + random.indexOf("ram"));
            </code>
            </pre>
        </div>

        <div class="task-3">
            <h4>push() and unshift()</h4>
            <pre>
            <code>
                //push to add items at the end of the array
                random.push("end item");
                console.log("Using push() function: " + random);
                
                //unshift to add items at the start of the array
                random.unshift("start item");
                console.log("Using unshift() function: " + random);
            </code>
            </pre>
        </div>

        <div class="task-4">
            <h4>pop() and shift()</h4>
            <pre>
            <code>
                //pop to remove items from end of the array
                random.pop("end item");
                console.log("Using pop() function: " + random);

                //shift to remove items from start of the array
                random.shift("start item");
                console.log("Using shift() function: " + random);
            </code>
            </pre>
        </div>

        <div class="task-5">
            <h4>slice() and splice()</h4>
            <pre>
            <code>
                //slice() presents only the required slice of the whole array
                const evenNum = [2, 4, 6, 8, 10]
                let sliced = evenNum.slice(1, 2)
                console.log("Using slice(): " + sliced)
                //Expected output: 2,8,10

                //splice() to remove certain number of items from array or add/replace
                //splice(where to start, how many to remove, if any to add)
                let index = random.indexOf("ram");
                random.splice(index,2);
                console.log("Using splice() function: " + random);
            </code>
            </pre>
        </div>

        <div class="task-6">
            <h4>split() and join()</h4>
            <pre>
            <code>
                //split() to split the string into array 
                let data = "John, Sabrina, Harry";
                let names = data.split(',');
                console.log("Using split() function: " + names);

                //join() to join the array into one string 
                console.log("Using join() function: " + names.join(' +'));
            </code>
            </pre>
        </div> <br>

        <h2>Loop through Arrays</h2>        
        <div class="task-7">
            <h4>for...of</h4>
            <pre>
            <code>
                //for..of to access every item in an array
                for(const fruit of fruits){
                    console.log("Output of for...of statement: " + fruit);
                }
            </code>
                </pre>
            </div><br>

        <h2> Higher-Order Array Methods</h2>       
        <div class="task-8">
            <h4>map() and filter()</h4>
            <pre>
            <code>
                //map() to access every item in an array
                const numbers = [2,4,6,8,10];
                function doubles(number){
                    return number*2;
                }
                console.log("Using map() function: " + numbers.map(doubles));

                //filter() to check a certain condition
                function checkChar(number){
                    if(number > 4){
                        return number;
                    }
                }
                console.log("Using filter() function: " + numbers.filter(checkChar));
            </code>
            </pre>
        </div>
        
        <div class="task-9">
            <h4>reduce()</h4>
            <pre>
            <code>
                //reduce() to reduce the array down to a single value by using callback function
                //it takes a function and initial value as parameters
                const employeeData = [
                    { name: 'Gopal', salary: 3500 },
                    { name: 'Radha', salary: 500 },
                    { name: 'Sam', salary: 1500 }
                ]

                const totalSalary = employeeData.reduce((total, employee) => {
                    return total + employee.salary
                }, 0);

                console.log("Using reduce(): The total salary is " + totalSalary)
            </code>
            </pre>
        </div>
        
        <div class="task-10">
            <h4>addEventListener()</h4>
            <pre>
            <button id="button-click" style="margin-left: 2rem;">Click Me!!</button>
            <code>
                //addEventListener() adds interactivity by performing certain activity when an element is hovered, pressed, clicked and more
                document.getElementById("button-click").addEventListener("click", (event) => {
                    alert("How dare you click me?");
                })
                
                //another example of event listener that listens to the keys pressed on your keyboard
                document.addEventListener('keypress', (event) => {
                    console.log("You pressed ", event.key)
                })
            </code>
            </pre>
        </div><br>
        
        <h2>Some more important concepts</h2>
        <div class="task-11">
            <h4>rest() and spread()</h4>
            <pre>
            <code>
            //rest() collects all the items into an array mostly as a parameter
            //spread() expands the items into single elements and copies into another element
            const set1 = [1,2,3,4]
            const set2 = [...set1, 5, 6, 7] 
            console.log("Using spread(): " + set2)
            //Expected Output:Using spread(): 1,2,3,4,5,6,7
            
            const displayNames = (...names) => {
                console.log("Using rest(): " + names)
            }
            displayNames('Radha', 'Himal', 'Chand');
            //Expected Output: Using rest(): Radha,Himal,Chand                
            </code>
            </pre>
        </div>

        <div class="task-12">
            <h4>Callback function</h4>
            <p>Callback functions are passed as arguments to another function to be called after a certain time or when a condition is met <br>
                E.g: addEventListener(), setTimeOut() <br>
                In the given example checkNum is the callback function as it is pass as an argument to map method</p>
            <pre>
            <code>
            const naturalNum = [1,2,3,4,5,6,7,8]
            
            const checkNum = (num) => {
                if (num % 2 == 0) {
                    printEven(num)
                }
                else {
                    printOdd(num)
                }
            }
            
            const printEven = num => console.log(`Using callback function: ${num} is even number`)
            const printOdd = num => console.log(`Using callback function: ${num} is odd number`)
            
            naturalNum.map(checkNum)
            </code>
            </pre>
        </div>
        
        <div class="task-13">
            <h4>Async, await, promise</h4>
            <p>async() function does not disrupt the flow of the code and runs parallely on the side <br>
                await() pauses the entire program and continues only after the function fully executes <br>
                Promises are objects that store the state of an asynchrounous operation (resolved, rejected or pending) and also offer chaining methods like then(), catch(), finally()</p>
            <pre>
            <code>
                const exampleAsync = async () => {
                    try {        
                        console.log("Before execution.")
                        const data = await getData()
                        console.log("Execution complete." , data)
                    }
                    catch {
                        console.log("Execution faced an error." , error)        
                    }
                }
                
                const getData = () => {
                    return new Promise((resolve, reject) => {
                        const success = true;
                
                        setTimeout(() => {
                            if (success) {
                                resolve("Promise state: resolved")
                            }
                            else {
                                reject("Promise state: rejected")                
                            }
                        }, 3000);
                    }
                    )
                } 
                
                exampleAsync()
                //Expected Output: Before execution. Execution complete. Promise state: resolved
            </code>
            </pre>
        </div>

        <div class="task-14">
            <h4>Event Propagation</h4>
            <p>There are phases of event Propagation - Event bubbling and capturing <br>
            In event bubbling, the event starts from the target element and triggers the parent's events <br>
            In event capturing or trickling, the parent's event is triggered, then reaching the target event <br>
            Setting the third parameter true, enables trickling</p> <br>
            <pre>
                <div class="event__parent" style="margin-left: 2rem; border: 1px solid red; padding: 10px;">
                    I am the parent. Click me and view console<br> <br> <br>
                    <div class="event__child" style="margin-left: 2rem; border: 1px solid red; padding: 10px;">I am a child. Click me and view console</div> <br>
                </div>            
            <code>
            document.querySelector('.event__parent').addEventListener('click',() => console.log("Parent click"),true)
            document.querySelector('.event__child').addEventListener('click', () => console.log("Child click"))
            </code>
            </pre>
        </div>
    </div>
</body>
<script src="script.js"></script>
</html>